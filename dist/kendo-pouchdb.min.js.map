{"version":3,"file":"kendo-pouchdb.min.js","sources":["../kendo-pouchdb.js"],"names":["f","define","PouchDB","pouchCollate","Error","$","pouchdbTransport","kendo","data","RemoteTransport","extend","init","options","pouchdb","db","idField","fieldViews","this","dataSource","fn","call","push","callbacks","that","changes","since","live","include_docs","on","change","datasourceItem","currentCrudPromises","_crudPromises","slice","doc","when","apply","then","deleted","pushDestroy","get","_id","undefined","_rev","pushUpdate","pageSize","pushCreate","err","read","skip","fieldViewAndDir","_getFieldViewAndDirForSort","sort","queryMethod","fieldView","query","bind","allDocs","limit","page","countDesignDocs","utils","Promise","resolve","startkey","endkey","result","rows","length","_validateFilter","filter","filterQueryOptions","_getFilterQueryOptions","queryOptions","descending","totalDesignRows","response","total_rows","success","error","status","_crud","type","operation","deferred","Deferred","crudPromise","promise","resolveCrudDeferred","index","indexOf","splice","rev","console","log","format","create","toIndexableString","d","put","update","destroy","remove","field","dir","filters","filterField","sortField","filterOperator","operator","filterValue","value","key","inclusive_end","pouchdbSchema","docs","map","row","total","schemas","transports","PouchableDataSource","DataSource","Model","_ispouchdb","schema","model","id","serverPaging","serverFiltering","serverSorting","serverGrouping","serverAggregates","arguments","getByModelId","window","jQuery","amd","_"],"mappings":"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"}