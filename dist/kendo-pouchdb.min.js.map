{"version":3,"file":"kendo-pouchdb.min.js","sources":["../kendo-pouchdb.js"],"names":["f","define","PouchDB","pouchCollate","Error","$","pouchdbTransport","kendo","data","RemoteTransport","extend","init","options","pouchdb","db","idField","fieldViews","this","dataSource","fn","call","push","callbacks","that","changes","since","live","include_docs","on","change","datasourceItem","currentCrudPromises","_crudPromises","slice","doc","when","apply","then","deleted","pushDestroy","get","_id","undefined","_rev","pushUpdate","pageSize","pushCreate","err","read","applyFilter","applyPaging","skip","filterQueryOptions","fieldViewAndDir","_getFieldViewAndDirForSort","sort","useQuery","fieldView","queryMethod","query","bind","allDocs","limit","page","countDocsToSubtract","utils","Promise","resolve","startkey","endkey","result","rows","length","_validateFilter","filter","_getFilterQueryOptions","totalQueryOptions","reduce","queryOptions","descending","totalRowsToSubtract","response","totalResult","total_rows","each","indexOf","success","error","status","_crud","type","operation","deferred","Deferred","crudPromise","promise","resolveCrudDeferred","index","splice","rev","console","log","format","create","toIndexableString","d","put","update","destroy","remove","field","dir","filters","filterField","sortField","filterOperator","operator","filterValue","value","key","inclusive_end","pouchdbSchema","docs","map","row","total","schemas","transports","PouchableDataSource","DataSource","Model","_ispouchdb","schema","model","id","serverPaging","serverFiltering","serverSorting","serverGrouping","serverAggregates","arguments","getByModelId","window","jQuery","amd","_"],"mappings":"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"}