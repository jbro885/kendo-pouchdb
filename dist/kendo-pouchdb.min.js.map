{"version":3,"file":"kendo-pouchdb.min.js","sources":["../kendo-pouchdb.js"],"names":["f","define","PouchDB","pouchCollate","Error","$","pouchdbTransport","kendo","data","RemoteTransport","extend","init","options","pouchdb","db","idField","defaultView","fieldViews","this","dataSource","fn","call","push","callbacks","that","changes","since","live","include_docs","filter","undefined","view","on","change","datasourceItem","currentCrudPromises","_crudPromises","slice","doc","when","apply","then","deleted","pushDestroy","get","_id","_rev","pushUpdate","pageSize","pushCreate","err","read","applyFilter","applyPaging","skip","filterQueryOptions","fieldViewAndDir","_getFieldViewAndDirForSort","sort","useQuery","fieldView","queryMethod","query","bind","allDocs","limit","page","countDocsToSubtract","utils","Promise","resolve","startkey","endkey","result","rows","length","_validateFilter","_getFilterQueryOptions","totalQueryOptions","reduce","queryOptions","descending","totalRowsToSubtract","response","totalResult","total_rows","each","indexOf","success","error","status","_crud","type","operation","deferred","Deferred","crudPromise","promise","resolveCrudDeferred","index","splice","rev","console","log","format","create","toIndexableString","d","put","update","destroy","remove","field","dir","filters","filterField","filterOperator","operator","filterValue","value","key","inclusive_end","_filterToSelector","logic","combinationOperator","conditions","convertOperator","condition","argument","pouchdbSchema","docs","map","row","total","schemas","transports","PouchableDataSource","DataSource","Model","_ispouchdb","schema","model","id","serverPaging","serverFiltering","serverSorting","serverGrouping","serverAggregates","arguments","getByModelId","window","jQuery","amd","_"],"mappings":"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"}