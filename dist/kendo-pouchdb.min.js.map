{"version":3,"file":"kendo-pouchdb.min.js","sources":["../kendo-pouchdb.js"],"names":["f","define","PouchDB","pouchCollate","Error","$","queryPlugins","MAPREDUCE","POUCHDBFIND","pouchdbTransport","kendo","data","RemoteTransport","extend","init","options","pouchdb","db","idField","queryPlugin","defaultView","fieldViews","allQueryPlugins","map","plugin","indexOf","format","this","dataSource","_initializeReadMethod","fn","call","_read","_readWithMapReduce","_readWithPouchdbFind","push","callbacks","that","changes","since","live","include_docs","filter","undefined","view","on","change","datasourceItem","currentCrudPromises","_crudPromises","slice","doc","when","apply","then","deleted","pushDestroy","get","_id","_rev","pushUpdate","pageSize","pushCreate","err","read","applyFilter","applyPaging","skip","filterQueryOptions","fieldViewAndDir","_getFieldViewAndDirForSort","sort","useQuery","fieldView","queryMethod","query","bind","allDocs","limit","page","countDocsToSubtract","utils","Promise","resolve","startkey","endkey","result","rows","length","_validateFilter","_getFilterQueryOptions","totalQueryOptions","reduce","queryOptions","descending","totalRowsToSubtract","response","totalResult","total_rows","each","success","error","status","_crud","type","operation","deferred","Deferred","crudPromise","promise","resolveCrudDeferred","index","splice","rev","console","log","create","toIndexableString","d","put","update","destroy","remove","field","dir","filters","filterField","sortField","filterOperator","operator","filterValue","value","key","inclusive_end","_kendoFilterToFindSelector","logic","combinationOperator","conditions","convertOperator","condition","argument","_kendoSortToFindSort","order","pouchdbSchema","docs","row","total","schemas","transports","PouchableDataSource","DataSource","Model","_ispouchdb","schema","model","id","serverPaging","serverFiltering","serverSorting","serverGrouping","serverAggregates","arguments","getByModelId","window","jQuery","amd","_"],"mappings":"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"}