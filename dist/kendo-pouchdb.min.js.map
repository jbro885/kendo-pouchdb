{"version":3,"file":"kendo-pouchdb.min.js","sources":["../kendo-pouchdb.js"],"names":["f","define","PouchDB","pouchCollate","Error","$","pouchdbTransport","kendo","data","RemoteTransport","extend","init","options","pouchdb","db","idField","defaultView","fieldViews","this","dataSource","fn","call","push","callbacks","that","changes","since","live","include_docs","filter","undefined","view","on","change","datasourceItem","currentCrudPromises","_crudPromises","slice","doc","when","apply","then","deleted","pushDestroy","get","_id","_rev","pushUpdate","pageSize","pushCreate","err","read","applyFilter","applyPaging","skip","filterQueryOptions","fieldViewAndDir","_getFieldViewAndDirForSort","sort","useQuery","fieldView","queryMethod","query","bind","allDocs","limit","page","countDocsToSubtract","utils","Promise","resolve","startkey","endkey","result","rows","length","_validateFilter","_getFilterQueryOptions","totalQueryOptions","reduce","queryOptions","descending","totalRowsToSubtract","response","totalResult","total_rows","each","indexOf","success","error","status","_crud","type","operation","deferred","Deferred","crudPromise","promise","resolveCrudDeferred","index","splice","rev","console","log","format","create","toIndexableString","d","put","update","destroy","remove","field","dir","filters","filterField","sortField","filterOperator","operator","filterValue","value","key","inclusive_end","pouchdbSchema","docs","map","row","total","schemas","transports","PouchableDataSource","DataSource","Model","_ispouchdb","schema","model","id","serverPaging","serverFiltering","serverSorting","serverGrouping","serverAggregates","arguments","getByModelId","window","jQuery","amd","_"],"mappings":"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"}